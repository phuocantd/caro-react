(window["webpackJsonpcaro-react"]=window["webpackJsonpcaro-react"]||[]).push([[0],{10:function(e,s,t){e.exports=t(17)},15:function(e,s,t){},16:function(e,s,t){},17:function(e,s,t){"use strict";t.r(s);var r=t(0),i=t.n(r),a=t(4),n=t.n(a),l=(t(15),t(2)),c=t(5),o=t(6),u=t(9),h=t(7),p=t(1),k=t(8);function f(e){return i.a.createElement("button",{className:"square "+(e.curClick?"square-click":"")+(e.isWin?"square-win":""),onClick:e.onClick},e.value)}var y=function(e){function s(e){var t;Object(c.a)(this,s),(t=Object(u.a)(this,Object(h.a)(s).call(this,e))).reverseArray=function(){var e=t.state.history.slice();e.reverse(),t.setState({history:Object(l.a)(e),isForward:!t.state.isForward}),t.state.isForward?t.clickList(0):t.clickList(t.state.history.length-1)};var r=t.props.size;return t.state={squares:Array(r).fill(null).map((function(){return Array(r).fill(null)})),className:new Array(r).fill(null).map((function(){return new Array(r).fill(null).map((function(){return{isDark:!1,isWin:!1,isList:!1}}))})),xIsNext:!0,status:"Next player: X",isWinner:!1,preRowDark:{x:0,y:0},history:[],isForward:!0,stepCurrent:-1},t.checkRow=t.checkRow.bind(Object(p.a)(t)),t.checkCol=t.checkCol.bind(Object(p.a)(t)),t.checkSlash=t.checkSlash.bind(Object(p.a)(t)),t.checkBackSlash=t.checkBackSlash.bind(Object(p.a)(t)),t.checkWinner=t.checkWinner.bind(Object(p.a)(t)),t.handleClick=t.handleClick.bind(Object(p.a)(t)),t.reverseArray=t.reverseArray.bind(Object(p.a)(t)),t.renderSquare=t.renderSquare.bind(Object(p.a)(t)),t.getArray=t.getArray.bind(Object(p.a)(t)),t.resetGame=t.resetGame.bind(Object(p.a)(t)),t.clickList=t.clickList.bind(Object(p.a)(t)),t}return Object(k.a)(s,e),Object(o.a)(s,[{key:"checkRow",value:function(e){var s=0,t=1,r=Math.floor(e/this.props.size),i=e%this.props.size,a=this.state.squares.slice(),n=i+1;for(a[r][n]!==a[r][i]&&null!==a[r][n]&&s++;a[r][n]===a[r][i]&&n<this.props.size;)if(t+=1,n++,a[r][n]!==a[r][i]&&null!==a[r][n]){s++;break}for(n=i-1,a[r][n]!==a[r][i]&&null!==a[r][n]&&s++;a[r][n]===a[r][i]&&n>=0;)if(t+=1,n--,a[r][n]!==a[r][i]&&null!==a[r][n]){s++;break}return s<2&&5===t?{player:a[r][i],type:0}:null}},{key:"checkCol",value:function(e){var s=0,t=1,r=Math.floor(e/this.props.size),i=e%this.props.size,a=this.state.squares.slice(),n=r+1;for(n<this.props.size&&a[n][i]!==a[r][i]&&null!==a[n][i]&&s++;n<this.props.size&&a[n][i]===a[r][i];)if(t+=1,++n<this.props.size&&a[n][i]!==a[r][i]&&null!==a[n][i]){s++;break}for((n=r-1)>=0&&a[n][i]!==a[r][i]&&null!==a[n][i]&&s++;n>=0&&a[n][i]===a[r][i];)if(t+=1,--n>=0&&a[n][i]!==a[r][i]&&null!==a[n][i]){s++;break}return s<2&&5===t?{player:a[r][i],type:1}:null}},{key:"checkSlash",value:function(e){var s=0,t=1,r=Math.floor(e/this.props.size),i=e%this.props.size,a=this.state.squares.slice(),n=r-1,l=i+1;for(n>=0&&l<this.props.size&&a[n][l]!==a[r][i]&&null!==a[n][l]&&s++;n>=0&&l<this.props.size&&a[n][l]===a[r][i];)if(t+=1,l++,--n>=0&&l<this.props.size&&a[n][l]!==a[r][i]&&null!==a[n][l]){s++;break}for(l=i-1,(n=r+1)<this.props.size&&l>=0&&a[n][l]!==a[r][i]&&null!==a[n][l]&&s++;n<this.props.size&&l>=0&&a[n][l]===a[r][i];)if(t+=1,l--,++n<this.props.size&&l>=0&&a[n][l]!==a[r][i]&&null!==a[n][l]){s++;break}return s<2&&5===t?{player:a[r][i],type:2}:null}},{key:"checkBackSlash",value:function(e){var s=0,t=1,r=Math.floor(e/this.props.size),i=e%this.props.size,a=this.state.squares.slice(),n=r-1,l=i-1;for(n>=0&&l>=0&&a[n][l]!==a[r][i]&&null!==a[n][l]&&s++;n>=0&&l>=0&&a[n][l]===a[r][i];)if(t+=1,l--,--n>=0&&l>=0&&a[n][l]!==a[r][i]&&null!==a[n][l]){s++;break}for(l=i+1,(n=r+1)<this.props.size&&l<this.props.size&&a[n][l]!==a[r][i]&&null!==a[n][l]&&s++;n<this.props.size&&l<this.props.size&&a[n][l]===a[r][i];)if(t+=1,l++,++n<this.props.size&&l<this.props.size&&a[n][l]!==a[r][i]&&null!==a[n][l]){s++;break}return s<2&&5===t?{player:a[r][i],type:3}:null}},{key:"checkWinner",value:function(e){var s=this.checkRow(e);return null!==s?s:null!==(s=this.checkCol(e))?s:null!==(s=this.checkSlash(e))?s:null!==(s=this.checkBackSlash(e))?s:null}},{key:"handleClick",value:function(e){var s=Math.floor(e/this.props.size),t=e%this.props.size,r=0,i=0,a=0,n=this.state.squares.slice(),c=this.state.className.slice(),o=this.state.history.slice(),u=this.state,h=u.preRowDark,p=u.stepCurrent,k=null;if(!n[s][t]&&!this.state.isWinner){if(this.state.isForward)for(;p+1<o.length;)n[(k=o.pop()).x][k.y]=!1;else for(var f=0;f<p;f++)n[(k=o.shift()).x][k.y]=!1;this.state.isForward?(o.push({x:s,y:t,player:this.state.xIsNext?"X":"O"}),this.clickList(this.state.stepCurrent+1)):(o.unshift({x:s,y:t,player:this.state.xIsNext?"X":"O"}),this.clickList(0)),this.setState({history:Object(l.a)(o)}),c[h.x][h.y].isDark=!1,c[s][t].isDark=!0,n[s][t]=this.state.xIsNext?"X":"O",this.setState({squares:Object(l.a)(n),xIsNext:!this.state.xIsNext});var y=this.checkWinner(e);if(y)switch(c[s][t].isDark=!1,this.setState({status:"Winner: "+y.player,isWinner:!0}),c[s][t].isWin=!0,y.type){case 0:for(r=t-1;n[s][r]===n[s][t]&&r<this.props.size;)c[s][r].isWin=!0,r++;for(r=t-1;n[s][r]===n[s][t]&&r>=0;)c[s][r].isWin=!0,r--;break;case 1:for(r=s+1;r<this.props.size&&n[r][t]===n[s][t];)c[r][t].isWin=!0,r++;for(r=s-1;r>=0&&n[r][t]===n[s][t];)c[r][t].isWin=!0,r--;break;case 2:for(i=s-1,a=t+1;i>=0&&a<this.props.size&&n[i][a]===n[s][t];)c[i][a].isWin=!0,i--,a++;for(i=s+1,a=t-1;i<this.props.size&&a>=0&&n[i][a]===n[s][t];)c[i][a].isWin=!0,i++,a--;break;case 3:for(i=s-1,a=t-1;i>=0&&a>=0&&n[i][a]===n[s][t];)c[i][a].isWin=!0,i--,a--;for(i=s+1,a=t+1;i<this.props.size&&a<this.props.size&&n[i][a]===n[s][t];)c[i][a].isWin=!0,i++,a++}else this.setState({status:"Next player: "+(this.state.xIsNext?"O":"X"),className:Object(l.a)(c),preRowDark:{x:s,y:t}})}}},{key:"renderSquare",value:function(e){var s=this,t=Math.floor(e/this.props.size),r=e%this.props.size,a=this.state,n=a.squares,l=a.className;return i.a.createElement(f,{value:n[t][r],onClick:function(){return s.handleClick(e)},key:e,curClick:l[t][r].isDark,isWin:l[t][r].isWin})}},{key:"getArray",value:function(e){var s=0,t=[],r=[];r.push(i.a.createElement("button",{className:"square",key:0}));for(var a=0;a<e;a++)r.push(i.a.createElement("button",{className:"square",key:a+1},String.fromCharCode(a+65)));t.push(r);for(var n=0;n<e;n++){(r=[]).push(i.a.createElement("button",{className:"square",key:-1},n+1));for(var l=0;l<e;l++)r.push(this.renderSquare(s)),s++;t.push(i.a.createElement("div",{className:"board-row",key:n},r))}return t}},{key:"resetGame",value:function(){var e=this.props.size;this.setState({squares:Array(e).fill(null).map((function(){return Array(e).fill(null)})),className:new Array(e).fill(null).map((function(){return new Array(e).fill(null).map((function(){return{isDark:!1,isWin:!1,isList:!1}}))})),xIsNext:!0,status:"Next player: X",isWinner:!1,preRowDark:{x:0,y:0},history:[],stepCurrent:-1})}},{key:"clickList",value:function(e){var s=this.state.stepCurrent,t=this.state.className.slice(),r=Math.floor(s/this.props.size),i=s%this.props.size;s>=0&&(t[r][i].isList=!1),r=Math.floor(e/this.props.size),i=e%this.props.size,t[r][i].isList=!0,this.setState({stepCurrent:e,className:Object(l.a)(t)})}},{key:"render",value:function(){var e=this,s=this.props.size;return i.a.createElement("div",{className:"game"},i.a.createElement("div",{className:"game-board"},i.a.createElement("button",{className:"btn-reset",type:"button",onClick:function(){return e.resetGame()}},"Reset"),i.a.createElement("div",{className:"status"},this.state.status),this.getArray(this.props.size)),i.a.createElement("div",{className:"game-info"},i.a.createElement("button",{className:"btn-history",onClick:this.reverseArray},"History"),this.state.history.map((function(t,r){return i.a.createElement("ol",{key:t.x*s+t.y},i.a.createElement("button",{className:"btn-list "+(e.state.className[Math.floor(r/s)][r%s].isList?"btn-list-clicked":""),onClick:function(){return e.clickList(r)}},i.a.createElement("span",null,"Player ".concat(t.player,": [").concat(t.x+1,", ").concat(String.fromCharCode(t.y+65),"]"))))}))))}}]),s}(i.a.Component);t(16);var b=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(y,{size:20}))};n.a.render(i.a.createElement(b,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.5b9e9c70.chunk.js.map